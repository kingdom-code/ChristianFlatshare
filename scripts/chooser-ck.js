function initialize(){var e=document.getElementById("latitude").value,t=document.getElementById("longitude").value,n={center:new google.maps.LatLng(-33.8688,151.2195),zoom:18,mapTypeId:google.maps.MapTypeId.ROADMAP},r=new google.maps.Map(document.getElementById("locationChooser"),n);jQuery("form :input").on("keypress",function(e){return e.keyCode!=13});jQuery("#resetChooser").click(function(){document.getElementById("latitude").value="";document.getElementById("longitude").value="";document.getElementById("route").value="";document.getElementById("locality").value="";document.getElementById("admin_level").value="";document.getElementById("country").value="";document.getElementById("postal_code").value="";document.getElementById("addressName").innerHTML="";document.getElementById("postcodeChooser").value="";document.getElementById("locationChooser").style.display="none";document.getElementById("postcodeChooser").style.display="block";document.getElementById("addressExtra").style.display="none";return!1});var i=new google.maps.Marker({map:r,draggable:!0,animation:google.maps.Animation.DROP});google.maps.event.addListener(i,"dragend",function(){var e=i.getPosition(),t=e.lat(),n=e.lng();populateAddress(t,n);document.getElementById("latitude").value=t;document.getElementById("longitude").value=n});var s={componentRestrictions:{country:document.getElementById("postcodeChooserCountry").value}},o=document.getElementById("postcodeChooser"),u=new google.maps.places.Autocomplete(o,s);u.bindTo("bounds",r);google.maps.event.addListener(u,"place_changed",function(){o.className="";var e=u.getPlace();if(!e.geometry){o.className="notfound";return}document.getElementById("locationChooser").style.display="block";document.getElementById("postcodeChooser").style.display="none";document.getElementById("addressExtra").style.display="block";google.maps.event.trigger(r,"resize");r.setCenter(e.geometry.location);r.setZoom(17);var t=e.geometry.location.lat(),n=e.geometry.location.lng();populateAddress(t,n);document.getElementById("latitude").value=t;document.getElementById("longitude").value=n;i.setVisible(!0);i.setPosition(e.geometry.location)});if(e!=""||t!=""){document.getElementById("locationChooser").style.display="block";var a=new google.maps.LatLng(e,t);console.log(a);i.setVisible(!0);i.setPosition(a);r.setCenter(a);r.setZoom(17);google.maps.event.trigger(r,"resize");document.getElementById("postcodeChooser").style.display="none";document.getElementById("addressExtra").style.display="block"}}function populateAddress(e,t){jQuery.ajax({url:"ajaxResponses.php?target=geoEncode&lat="+e+"&lng="+t}).done(function(e){document.getElementById("route").value=e.street;document.getElementById("locality").value=e.area;document.getElementById("admin_level").value=e.region;document.getElementById("country").value=e.country;document.getElementById("postal_code").value=e.postal_code?e.postal_code:"";document.getElementById("addressName").innerHTML=[e.street,e.area,e.region].join(", ")})}jQuery(document).ready(function(e){e("#locationChooser").length&&google.maps.event.addDomListener(window,"load",initialize);if(e(".age-slider").length){var t=e("#ageRange").val();t=t.split("-");e(".age-slider").noUiSlider({range:[1,8],start:[t[0],t[1]],step:1,connect:!0,handles:2,orientation:"horizontal",slide:function(){var t=e(this).val();e("#ageRange").val(t[0]+"-"+t[1])}})}});