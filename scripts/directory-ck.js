jQuery(document).ready(function(e){function t(t){var n=null;e.ajax({url:"ajaxResponses.php?target=churchInfo&church_id="+t}).done(function(t){if(!e("#popUpMap").length){e("body").append('<div id="popUpMapContainer"><h4 class="title"></h4><p class="subtitle"></p><div id="popUpMap"></div></div>');e("body").append('<div id="popUpOverlay"></div>');e("body").addClass("popUpActive");e("#popUpOverlay").click(function(){e(this).fadeOut("fast");e("#popUpMapContainer").fadeOut("fast");e("body").removeClass("popUpActive")})}else{e("#popUpOverlay").fadeIn("fast");e("#popUpMapContainer").fadeIn("fast");e("body").addClass("popUpActive")}e("#popUpMapContainer .title").html('<a href="http://'+t.church_url+'">'+t.church_name+"</a>");var n=[t.route,t.locality,t.postal_code];e("#popUpMapContainer .subtitle").html(n.join(", "));var r={center:new google.maps.LatLng(t.latitude,t.longitude),zoom:15,mapTypeId:google.maps.MapTypeId.ROADMAP},i=new google.maps.Map(document.getElementById("popUpMap"),r),s=new google.maps.Marker({map:i,draggable:!1,animation:google.maps.Animation.DROP,visible:!0,position:new google.maps.LatLng(t.latitude,t.longitude)})})}e(".regionSelector select").change(function(){var t=e(this).val();window.location="?region="+t});e("a.mapPopUp").click(function(){var n=e(this).attr("href").substring(1);t(n);return!1})});